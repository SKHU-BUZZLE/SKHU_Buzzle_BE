{"ast":null,"code":"var _jsxFileName = \"/Users/inho/Desktop/\\u1106\\u116E\\u110C\\u1166 \\u1111\\u1169\\u11AF\\u1103\\u1165 2/SKHU_Buzzle_BE/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Client } from '@stomp/stompjs';\nimport SockJS from 'sockjs-client';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8080';\nfunction App() {\n  _s();\n  const [jwt, setJwt] = useState('');\n  const [stompClient, setStompClient] = useState(null);\n  const [logs, setLogs] = useState([]);\n  const [roomDetails, setRoomDetails] = useState(null);\n  const [isHost, setIsHost] = useState(false);\n  const [gameInfo, setGameInfo] = useState(null);\n  const [currentQuestion, setCurrentQuestion] = useState(null);\n  const [gameResult, setGameResult] = useState(null);\n\n  // 입력용 상태\n  const [inviteCodeInput, setInviteCodeInput] = useState('');\n  const [maxPlayers, setMaxPlayers] = useState(2);\n  const [category, setCategory] = useState('ALL');\n  const [quizCount, setQuizCount] = useState(3);\n  const stompClientRef = useRef(null);\n  stompClientRef.current = stompClient;\n  const log = message => {\n    console.log(message);\n    const timestamp = new Date().toLocaleTimeString();\n    const formattedMessage = typeof message === 'object' ? JSON.stringify(message, null, 2) : message;\n    setLogs(prevLogs => [`[${timestamp}] ${formattedMessage}`, ...prevLogs]);\n  };\n  useEffect(() => {\n    return () => {\n      if (stompClientRef.current) {\n        log('Disconnecting...');\n        stompClientRef.current.deactivate();\n      }\n    };\n  }, []);\n  const handleCreateRoom = async () => {\n    if (!jwt) {\n      log('JWT 토큰을 입력하세요.');\n      return;\n    }\n    log('방 생성 요청...');\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/multi-room`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${jwt}`\n        },\n        body: JSON.stringify({\n          maxPlayers,\n          category,\n          quizCount\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        log('방 생성 성공:');\n        log(data.data);\n        setInviteCodeInput(data.data.inviteCode);\n      } else {\n        log(`방 생성 실패: ${data.message}`);\n      }\n    } catch (error) {\n      log(`방 생성 에러: ${error.message}`);\n    }\n  };\n  const handleJoinRoom = () => {\n    if (!jwt) {\n      log('JWT 토큰을 입력하세요.');\n      return;\n    }\n    if (!inviteCodeInput) {\n      log('초대 코드를 입력하세요.');\n      return;\n    }\n    if (stompClient) {\n      log('이미 연결되어 있습니다. 연결을 해제하고 다시 시도합니다.');\n      stompClient.deactivate();\n    }\n    log(`연결 시도... (Token: ${jwt.substring(0, 10)}...)`);\n    const client = new Client({\n      webSocketFactory: () => new SockJS(`${API_BASE_URL}/chat?authorization=${jwt}`),\n      onConnect: () => {\n        log('✅ WebSocket 연결 성공!');\n        setStompClient(client);\n\n        // 개인 메시지 구독\n        client.subscribe('/user/queue/room', message => {\n          const body = JSON.parse(message.body);\n          log('📥 [개인 메시지 수신]:');\n          log(body);\n          if (body.type === 'JOINED_ROOM') {\n            setRoomDetails(body.data);\n            // 첫 유저가 방장이 됨\n            if (body.data.players.length === 1) {\n              setIsHost(true);\n              log('👑 당신이 방장입니다.');\n            }\n          }\n        });\n\n        // 방 전체 메시지 구독\n        client.subscribe(`/topic/room/${inviteCodeInput}`, message => {\n          const body = JSON.parse(message.body);\n          log(`📥 [${inviteCodeInput} 방 메시지 수신]:`);\n          log(body);\n          switch (body.type) {\n            case 'PLAYER_JOINED':\n              setRoomDetails(prev => ({\n                ...prev,\n                currentPlayerCount: body.data.currentPlayerCount,\n                maxPlayers: body.data.maxPlayers,\n                canStartGame: body.data.canStartGame,\n                players: [...((prev === null || prev === void 0 ? void 0 : prev.players) || []), {\n                  name: body.data.playerName,\n                  isHost: false\n                }]\n              }));\n              break;\n            case 'PLAYER_LEFT':\n              setRoomDetails(prev => ({\n                ...prev,\n                currentPlayerCount: body.data.currentPlayerCount,\n                maxPlayers: body.data.maxPlayers,\n                canStartGame: body.data.canStartGame\n              }));\n              if (body.data.isDisbanded) {\n                log(\"방장이 나가서 방이 폭파되었습니다.\");\n                handleDisconnect();\n              }\n              break;\n            case 'GAME_START':\n              setGameInfo({\n                totalQuestions: body.data.totalQuestions\n              });\n              setCurrentQuestion(null);\n              setGameResult(null);\n              break;\n            case 'QUESTION':\n              setCurrentQuestion(body.data);\n              break;\n            case 'ANSWER_RESULT':\n              // UI에 정답 결과 표시 로직 (예: O/X 표시)\n              break;\n            case 'LEADERBOARD':\n              // UI에 리더보드 업데이트\n              break;\n            case 'GAME_END':\n              setGameResult(body.data);\n              setCurrentQuestion(null);\n              break;\n            default:\n              break;\n          }\n        });\n        log(`[${inviteCodeInput}] 방에 입장합니다...`);\n        client.publish({\n          destination: '/app/room/join',\n          body: JSON.stringify({\n            inviteCode: inviteCodeInput\n          })\n        });\n      },\n      onStompError: frame => {\n        log('Broker reported error: ' + frame.headers['message']);\n        log('Additional details: ' + frame.body);\n      },\n      onWebSocketError: event => {\n        log('WebSocket error: ' + event);\n      },\n      reconnectDelay: 5000\n    });\n    client.activate();\n  };\n  const handleStartGame = () => {\n    if (stompClient && roomDetails) {\n      log('게임 시작 요청!');\n      stompClient.publish({\n        destination: `/app/room/${roomDetails.roomId}/start`,\n        body: ''\n      });\n    }\n  };\n  const handleAnswerSubmit = answerIndex => {\n    if (stompClient && roomDetails && currentQuestion) {\n      log(`${answerIndex + 1}번 답변 제출`);\n      stompClient.publish({\n        destination: `/app/room/${roomDetails.roomId}/answer`,\n        body: JSON.stringify({\n          questionIndex: currentQuestion.questionIndex,\n          index: answerIndex\n        })\n      });\n    }\n  };\n  const handleDisconnect = () => {\n    if (stompClient) {\n      stompClient.deactivate();\n      setStompClient(null);\n      setRoomDetails(null);\n      setIsHost(false);\n      setGameInfo(null);\n      setCurrentQuestion(null);\n      setGameResult(null);\n      log('연결 해제');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Buzzle Multi-Room Tester\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"1. \\uC778\\uC99D (JWT)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"JWT Token\",\n          value: jwt,\n          onChange: e => setJwt(e.target.value),\n          className: \"jwt-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"2. \\uBC29 \\uC0DD\\uC131 (\\uBC29\\uC7A5\\uC6A9)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Max Players: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: maxPlayers,\n            onChange: e => setMaxPlayers(parseInt(e.target.value)),\n            min: \"2\",\n            max: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Category: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: category,\n            onChange: e => setCategory(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"ALL\",\n              children: \"ALL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"DATA_STRUCTURE\",\n              children: \"DATA_STRUCTURE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"OS\",\n              children: \"OS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"NETWORK\",\n              children: \"NETWORK\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Quiz Count: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: quizCount,\n            onChange: e => setQuizCount(parseInt(e.target.value)),\n            min: \"3\",\n            max: \"20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCreateRoom,\n          children: \"\\uBC29 \\uC0DD\\uC131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"3. \\uBC29 \\uCC38\\uAC00 (\\uBAA8\\uB450)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uCD08\\uB300 \\uCF54\\uB4DC\",\n          value: inviteCodeInput,\n          onChange: e => setInviteCodeInput(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleJoinRoom,\n          disabled: !!stompClient,\n          children: \"\\uCC38\\uAC00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDisconnect,\n          disabled: !stompClient,\n          children: \"\\uB098\\uAC00\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }, this), roomDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"4. \\uBC29 \\uC815\\uBCF4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uCD08\\uB300 \\uCF54\\uB4DC:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 28\n          }, this), \" \", roomDetails.inviteCode]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uBC29\\uC7A5:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 28\n          }, this), \" \", roomDetails.hostName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uC778\\uC6D0:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 28\n          }, this), \" \", roomDetails.currentPlayerCount, \" / \", roomDetails.maxPlayers]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD50C\\uB808\\uC774\\uC5B4 \\uBAA9\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: roomDetails.players.map((p, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [p.name, \" \", p.isHost ? '👑' : '']\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 64\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 25\n        }, this), isHost && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleStartGame,\n          disabled: !roomDetails.canStartGame,\n          children: \"\\uAC8C\\uC784 \\uC2DC\\uC791\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 36\n        }, this), !roomDetails.canStartGame && isHost && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"2\\uBA85 \\uC774\\uC0C1\\uC774\\uC5B4\\uC57C \\uC2DC\\uC791\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 68\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 65\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }, this), gameInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"5. \\uAC8C\\uC784 \\uC9C4\\uD589\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 25\n        }, this), currentQuestion ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Question \", currentQuestion.questionIndex + 1, \"/\", gameInfo.totalQuestions]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: currentQuestion.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: currentQuestion.options.map((opt, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleAnswerSubmit(index),\n                children: [index + 1, \". \", opt]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 45\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uB2E4\\uC74C \\uBB38\\uC81C\\uB97C \\uAE30\\uB2E4\\uB9AC\\uB294 \\uC911...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 29\n        }, this), gameResult && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uAC8C\\uC784 \\uC885\\uB8CC!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83C\\uDFC6 \\uC2B9\\uC790: \", gameResult.winnerName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logs-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Logs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logs\",\n        children: logs.map((logMsg, i) => /*#__PURE__*/_jsxDEV(\"pre\", {\n          children: logMsg\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 46\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 219,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"jjVuuw7Tp279AdapbgsrUNKXZ0s=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Client","SockJS","jsxDEV","_jsxDEV","API_BASE_URL","App","_s","jwt","setJwt","stompClient","setStompClient","logs","setLogs","roomDetails","setRoomDetails","isHost","setIsHost","gameInfo","setGameInfo","currentQuestion","setCurrentQuestion","gameResult","setGameResult","inviteCodeInput","setInviteCodeInput","maxPlayers","setMaxPlayers","category","setCategory","quizCount","setQuizCount","stompClientRef","current","log","message","console","timestamp","Date","toLocaleTimeString","formattedMessage","JSON","stringify","prevLogs","deactivate","handleCreateRoom","response","fetch","method","headers","body","data","json","ok","inviteCode","error","handleJoinRoom","substring","client","webSocketFactory","onConnect","subscribe","parse","type","players","length","prev","currentPlayerCount","canStartGame","name","playerName","isDisbanded","handleDisconnect","totalQuestions","publish","destination","onStompError","frame","onWebSocketError","event","reconnectDelay","activate","handleStartGame","roomId","handleAnswerSubmit","answerIndex","questionIndex","index","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","parseInt","min","max","onClick","disabled","hostName","map","p","i","text","options","opt","winnerName","logMsg","_c","$RefreshReg$"],"sources":["/Users/inho/Desktop/무제 폴더 2/SKHU_Buzzle_BE/frontend/src/App.js"],"sourcesContent":["\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Client } from '@stomp/stompjs';\nimport SockJS from 'sockjs-client';\nimport './App.css';\n\nconst API_BASE_URL = 'http://localhost:8080';\n\nfunction App() {\n    const [jwt, setJwt] = useState('');\n    const [stompClient, setStompClient] = useState(null);\n    const [logs, setLogs] = useState([]);\n    const [roomDetails, setRoomDetails] = useState(null);\n    const [isHost, setIsHost] = useState(false);\n    const [gameInfo, setGameInfo] = useState(null);\n    const [currentQuestion, setCurrentQuestion] = useState(null);\n    const [gameResult, setGameResult] = useState(null);\n\n    // 입력용 상태\n    const [inviteCodeInput, setInviteCodeInput] = useState('');\n    const [maxPlayers, setMaxPlayers] = useState(2);\n    const [category, setCategory] = useState('ALL');\n    const [quizCount, setQuizCount] = useState(3);\n\n    const stompClientRef = useRef(null);\n    stompClientRef.current = stompClient;\n\n    const log = (message) => {\n        console.log(message);\n        const timestamp = new Date().toLocaleTimeString();\n        const formattedMessage = typeof message === 'object' ? JSON.stringify(message, null, 2) : message;\n        setLogs(prevLogs => [`[${timestamp}] ${formattedMessage}`, ...prevLogs]);\n    };\n\n    useEffect(() => {\n        return () => {\n            if (stompClientRef.current) {\n                log('Disconnecting...');\n                stompClientRef.current.deactivate();\n            }\n        };\n    }, []);\n\n    const handleCreateRoom = async () => {\n        if (!jwt) {\n            log('JWT 토큰을 입력하세요.');\n            return;\n        }\n        log('방 생성 요청...');\n        try {\n            const response = await fetch(`${API_BASE_URL}/api/multi-room`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${jwt}`\n                },\n                body: JSON.stringify({ maxPlayers, category, quizCount })\n            });\n\n            const data = await response.json();\n            if (response.ok) {\n                log('방 생성 성공:');\n                log(data.data);\n                setInviteCodeInput(data.data.inviteCode);\n            } else {\n                log(`방 생성 실패: ${data.message}`);\n            }\n        } catch (error) {\n            log(`방 생성 에러: ${error.message}`);\n        }\n    };\n\n    const handleJoinRoom = () => {\n        if (!jwt) {\n            log('JWT 토큰을 입력하세요.');\n            return;\n        }\n        if (!inviteCodeInput) {\n            log('초대 코드를 입력하세요.');\n            return;\n        }\n\n        if (stompClient) {\n            log('이미 연결되어 있습니다. 연결을 해제하고 다시 시도합니다.');\n            stompClient.deactivate();\n        }\n\n        log(`연결 시도... (Token: ${jwt.substring(0, 10)}...)`);\n\n        const client = new Client({\n            webSocketFactory: () => new SockJS(`${API_BASE_URL}/chat?authorization=${jwt}`),\n            onConnect: () => {\n                log('✅ WebSocket 연결 성공!');\n                setStompClient(client);\n\n                // 개인 메시지 구독\n                client.subscribe('/user/queue/room', (message) => {\n                    const body = JSON.parse(message.body);\n                    log('📥 [개인 메시지 수신]:');\n                    log(body);\n                    if (body.type === 'JOINED_ROOM') {\n                        setRoomDetails(body.data);\n                        // 첫 유저가 방장이 됨\n                        if (body.data.players.length === 1) {\n                            setIsHost(true);\n                            log('👑 당신이 방장입니다.');\n                        }\n                    }\n                });\n\n                // 방 전체 메시지 구독\n                client.subscribe(`/topic/room/${inviteCodeInput}`, (message) => {\n                    const body = JSON.parse(message.body);\n                    log(`📥 [${inviteCodeInput} 방 메시지 수신]:`);\n                    log(body);\n\n                    switch (body.type) {\n                        case 'PLAYER_JOINED':\n                            setRoomDetails(prev => ({\n                                ...prev,\n                                currentPlayerCount: body.data.currentPlayerCount,\n                                maxPlayers: body.data.maxPlayers,\n                                canStartGame: body.data.canStartGame,\n                                players: [...(prev?.players || []), { name: body.data.playerName, isHost: false }]\n                            }));\n                            break;\n                        case 'PLAYER_LEFT':\n                             setRoomDetails(prev => ({\n                                ...prev,\n                                currentPlayerCount: body.data.currentPlayerCount,\n                                maxPlayers: body.data.maxPlayers,\n                                canStartGame: body.data.canStartGame,\n                            }));\n                            if (body.data.isDisbanded) {\n                                log(\"방장이 나가서 방이 폭파되었습니다.\");\n                                handleDisconnect();\n                            }\n                            break;\n                        case 'GAME_START':\n                            setGameInfo({ totalQuestions: body.data.totalQuestions });\n                            setCurrentQuestion(null);\n                            setGameResult(null);\n                            break;\n                        case 'QUESTION':\n                            setCurrentQuestion(body.data);\n                            break;\n                        case 'ANSWER_RESULT':\n                            // UI에 정답 결과 표시 로직 (예: O/X 표시)\n                            break;\n                        case 'LEADERBOARD':\n                            // UI에 리더보드 업데이트\n                            break;\n                        case 'GAME_END':\n                            setGameResult(body.data);\n                            setCurrentQuestion(null);\n                            break;\n                        default:\n                            break;\n                    }\n                });\n\n                log(`[${inviteCodeInput}] 방에 입장합니다...`);\n                client.publish({\n                    destination: '/app/room/join',\n                    body: JSON.stringify({ inviteCode: inviteCodeInput })\n                });\n            },\n            onStompError: (frame) => {\n                log('Broker reported error: ' + frame.headers['message']);\n                log('Additional details: ' + frame.body);\n            },\n            onWebSocketError: (event) => {\n                log('WebSocket error: ' + event);\n            },\n            reconnectDelay: 5000,\n        });\n\n        client.activate();\n    };\n\n    const handleStartGame = () => {\n        if (stompClient && roomDetails) {\n            log('게임 시작 요청!');\n            stompClient.publish({\n                destination: `/app/room/${roomDetails.roomId}/start`,\n                body: ''\n            });\n        }\n    };\n    \n    const handleAnswerSubmit = (answerIndex) => {\n        if (stompClient && roomDetails && currentQuestion) {\n            log(`${answerIndex + 1}번 답변 제출`);\n            stompClient.publish({\n                destination: `/app/room/${roomDetails.roomId}/answer`,\n                body: JSON.stringify({ \n                    questionIndex: currentQuestion.questionIndex,\n                    index: answerIndex \n                })\n            });\n        }\n    };\n\n    const handleDisconnect = () => {\n        if (stompClient) {\n            stompClient.deactivate();\n            setStompClient(null);\n            setRoomDetails(null);\n            setIsHost(false);\n            setGameInfo(null);\n            setCurrentQuestion(null);\n            setGameResult(null);\n            log('연결 해제');\n        }\n    };\n\n\n    return (\n        <div className=\"App\">\n            <div className=\"container\">\n                <h1>Buzzle Multi-Room Tester</h1>\n                <div className=\"section\">\n                    <h2>1. 인증 (JWT)</h2>\n                    <input\n                        type=\"text\"\n                        placeholder=\"JWT Token\"\n                        value={jwt}\n                        onChange={(e) => setJwt(e.target.value)}\n                        className=\"jwt-input\"\n                    />\n                </div>\n\n                <hr />\n\n                <div className=\"section\">\n                    <h2>2. 방 생성 (방장용)</h2>\n                    <div>\n                        <label>Max Players: </label>\n                        <input type=\"number\" value={maxPlayers} onChange={e => setMaxPlayers(parseInt(e.target.value))} min=\"2\" max=\"10\" />\n                    </div>\n                    <div>\n                        <label>Category: </label>\n                        <select value={category} onChange={e => setCategory(e.target.value)}>\n                            <option value=\"ALL\">ALL</option>\n                            <option value=\"DATA_STRUCTURE\">DATA_STRUCTURE</option>\n                            <option value=\"OS\">OS</option>\n                            <option value=\"NETWORK\">NETWORK</option>\n                        </select>\n                    </div>\n                    <div>\n                        <label>Quiz Count: </label>\n                        <input type=\"number\" value={quizCount} onChange={e => setQuizCount(parseInt(e.target.value))} min=\"3\" max=\"20\" />\n                    </div>\n                    <button onClick={handleCreateRoom}>방 생성</button>\n                </div>\n\n                <hr />\n\n                <div className=\"section\">\n                    <h2>3. 방 참가 (모두)</h2>\n                    <input\n                        type=\"text\"\n                        placeholder=\"초대 코드\"\n                        value={inviteCodeInput}\n                        onChange={(e) => setInviteCodeInput(e.target.value)}\n                    />\n                    <button onClick={handleJoinRoom} disabled={!!stompClient}>참가</button>\n                    <button onClick={handleDisconnect} disabled={!stompClient}>나가기</button>\n                </div>\n                \n                <hr />\n\n                {roomDetails && (\n                    <div className=\"section\">\n                        <h2>4. 방 정보</h2>\n                        <p><strong>초대 코드:</strong> {roomDetails.inviteCode}</p>\n                        <p><strong>방장:</strong> {roomDetails.hostName}</p>\n                        <p><strong>인원:</strong> {roomDetails.currentPlayerCount} / {roomDetails.maxPlayers}</p>\n                        <h3>플레이어 목록</h3>\n                        <ul>\n                            {roomDetails.players.map((p, i) => <li key={i}>{p.name} {p.isHost ? '👑' : ''}</li>)}\n                        </ul>\n                        {isHost && <button onClick={handleStartGame} disabled={!roomDetails.canStartGame}>게임 시작</button>}\n                        {!roomDetails.canStartGame && isHost && <p><small>2명 이상이어야 시작할 수 있습니다.</small></p>}\n                    </div>\n                )}\n\n                {gameInfo && (\n                     <div className=\"section\">\n                        <h2>5. 게임 진행</h2>\n                        {currentQuestion ? (\n                            <div>\n                                <h3>Question {currentQuestion.questionIndex + 1}/{gameInfo.totalQuestions}</h3>\n                                <p>{currentQuestion.text}</p>\n                                <ul>\n                                    {currentQuestion.options.map((opt, index) => (\n                                        <li key={index}>\n                                            <button onClick={() => handleAnswerSubmit(index)}>\n                                                {index + 1}. {opt}\n                                            </button>\n                                        </li>\n                                    ))}\n                                </ul>\n                            </div>\n                        ) : (\n                            <p>다음 문제를 기다리는 중...</p>\n                        )}\n                        {gameResult && (\n                            <div>\n                                <h3>게임 종료!</h3>\n                                <p>🏆 승자: {gameResult.winnerName}</p>\n                            </div>\n                        )}\n                    </div>\n                )}\n\n\n            </div>\n            <div className=\"logs-container\">\n                <h2>Logs</h2>\n                <div className=\"logs\">\n                    {logs.map((logMsg, i) => <pre key={i}>{logMsg}</pre>)}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}